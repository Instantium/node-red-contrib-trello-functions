<script type="text/javascript">
  RED.nodes.registerType('trelloCredentials', {
    category: 'config',
    defaults: {
      apikey: {value: '', required: true},
      token: {value: '', required: true},
    },
    oneditsave: function () {
      var trimFields = [
        "apikey",
        "token"
      ];
      // Just in case any whitespace has crept in with the copy-paste of the fields
      trimFields.forEach(function (field) {
        var v = $("#node-config-input-" + field).val();
        v = v.trim();
        $("#node-config-input-" + field).val(v);

      });
    }
  });
</script>

<script type="text/x-red" data-template-name="trelloCredentials">
    <div class="form-row">
        <p style="margin-top: 30px;">
          <span data-i18n="trelloCredentials.label.create"></span>
          <a target="_blank" style="text-decoration:underline;"
              data-i18n="[href]trelloCredentials.label.api_key_link;trelloCredentials.label.api_key_link_text" >
          </a>
        </p>
    </div>

    <div class="form-row">
        <label for="node-config-input-apikey"><span data-i18n="trelloCredentials.label.api_key"></span></label>
        <input type="text" id="node-config-input-apikey">
    </div>
    <div class="form-row">
        <label for="node-config-input-token"><span data-i18n="trelloCredentials.label.token"></span></label>
        <input type="text" id="node-config-input-token">
    </div>

</script>

